@tailwind base;
@tailwind components;
@tailwind utilities;

/* Chatbot UI Design System - Modern Dark Purple Theme */

@layer base {
  :root {
    /* Base colors for shadcn components */
    --background: 248 24% 6%;
    --foreground: 0 0% 98%;
    --card: 248 20% 8%;
    --card-foreground: 0 0% 95%;
    --popover: 248 20% 8%;
    --popover-foreground: 0 0% 95%;
    --primary: 270 75% 65%;
    --primary-foreground: 0 0% 100%;
    --secondary: 240 15% 12%;
    --secondary-foreground: 0 0% 90%;
    --muted: 240 15% 15%;
    --muted-foreground: 0 0% 70%;
    --accent: 270 30% 20%;
    --accent-foreground: 0 0% 95%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 15% 20%;
    --input: 240 15% 12%;
    --ring: 270 75% 65%;
    
    /* Custom theme colors */
    --chat-bg: hsl(248, 20%, 8%);
    --user-bubble: linear-gradient(135deg, hsl(270, 75%, 65%), hsl(285, 85%, 55%));
    --bot-bubble: hsl(240, 15%, 15%);
    --user-text: hsl(0, 0%, 100%);
    --bot-text: hsl(0, 0%, 95%);
    
    /* File Panel */
    --panel-bg: hsl(248, 20%, 8%);
    --panel-border: hsl(240, 15%, 20%);
    --upload-zone: linear-gradient(135deg, hsl(270, 30%, 12%), hsl(285, 25%, 15%));
    --upload-border: hsl(270, 75%, 65%);
    
    /* UI Elements */
    --input-bg: hsl(240, 15%, 15%);
    --input-border: hsl(240, 15%, 25%);
    --input-focus: hsl(270, 75%, 65%);
    --button-primary: linear-gradient(135deg, hsl(270, 75%, 65%), hsl(285, 85%, 55%));
    --button-hover: linear-gradient(135deg, hsl(285, 85%, 55%), hsl(300, 90%, 50%));
    --shadow: 0 4px 16px -4px hsla(270, 75%, 65%, 0.3);
    --shadow-lg: 0 20px 25px -5px hsla(270, 75%, 65%, 0.2);
    
    /* Status Colors */
    --success: hsl(142, 76%, 50%);
    --warning: hsl(38, 92%, 50%);
    --error: hsl(0, 84%, 60%);
    --loading: hsl(270, 75%, 65%);
    
    /* Text Colors */
    --text-primary: hsl(0, 0%, 98%);
    --text-secondary: hsl(0, 0%, 85%);
    --text-muted: hsl(0, 0%, 70%);
    
    /* Glow Effects */
    --glow-primary: 0 0 20px hsla(270, 75%, 65%, 0.5);
    --glow-secondary: 0 0 30px hsla(285, 85%, 55%, 0.3);
    
    /* Animations */
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    
    --radius: 1rem;
  }
}

/* Custom Components */
.gradient-bg {
  background: linear-gradient(135deg, hsl(248, 30%, 4%) 0%, hsl(260, 35%, 6%) 50%, hsl(270, 25%, 8%) 100%);
}

.chat-container {
  background: var(--chat-bg);
  box-shadow: var(--shadow-lg);
  border-radius: var(--radius);
  border: 1px solid var(--panel-border);
}

.user-message {
  background: var(--user-bubble);
  color: var(--user-text);
  border-radius: 1.5rem 1.5rem 0.5rem 1.5rem;
  box-shadow: var(--glow-primary);
  position: relative;
}

.user-message::before {
  content: '';
  position: absolute;
  inset: -1px;
  background: var(--user-bubble);
  border-radius: inherit;
  z-index: -1;
  filter: blur(8px);
  opacity: 0.3;
}

.bot-message {
  background: var(--bot-bubble);
  color: var(--bot-text);
  border-radius: 1.5rem 1.5rem 1.5rem 0.5rem;
  border: 1px solid var(--input-border);
  backdrop-filter: blur(10px);
}

.upload-zone {
  background: var(--upload-zone);
  border: 2px dashed var(--upload-border);
  border-radius: var(--radius);
  transition: var(--transition-bounce);
  position: relative;
  overflow: hidden;
}

.upload-zone::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(45deg, transparent 30%, hsla(270, 75%, 65%, 0.1) 50%, transparent 70%);
  transform: translateX(-100%);
  transition: transform 0.6s;
}

.upload-zone:hover::before {
  transform: translateX(100%);
}

.upload-zone:hover {
  border-color: var(--input-focus);
  transform: translateY(-2px);
  box-shadow: var(--glow-primary);
}

.send-button {
  background: var(--button-primary);
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.send-button::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(45deg, transparent 30%, hsla(285, 85%, 55%, 0.3) 50%, transparent 70%);
  transform: translateX(-100%);
  transition: transform 0.6s;
}

.send-button:hover::before {
  transform: translateX(100%);
}

.send-button:hover {
  background: var(--button-hover);
  transform: translateY(-1px);
  box-shadow: var(--glow-secondary);
}

.typing-indicator {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: .5;
  }
}

.message-fade-in {
  animation: messageSlideIn 0.3s ease-out;
}

@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    color: var(--text-primary);
  }
  
  /* Ensure all text elements have proper contrast */
  h1, h2, h3, h4, h5, h6 {
    color: var(--text-primary);
  }
  
  p, span, div {
    color: inherit;
  }
  
  /* Input styling */
  input, textarea {
    background: var(--input-bg) !important;
    border-color: var(--input-border) !important;
    color: var(--text-primary) !important;
  }
  
  input::placeholder, textarea::placeholder {
    color: var(--text-muted) !important;
  }
  
  /* Button text visibility */
  button {
    color: var(--text-primary);
  }
}